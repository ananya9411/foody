{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);useEffect(()=>{const storedCart=JSON.parse(localStorage.getItem(\"cart\"));if(storedCart)setCart(storedCart);},[]);useEffect(()=>{localStorage.setItem(\"cart\",JSON.stringify(cart));},[cart]);const addToCart=item=>{setCart(prev=>{const existing=prev.find(i=>i.id===item.id);if(existing){return prev.map(i=>i.id===item.id?{...i,quantity:i.quantity+1}:i);}else{return[...prev,{...item,quantity:1}];}});};const removeOneFromCart=id=>{setCart(prev=>prev.map(item=>item.id===id?{...item,quantity:item.quantity-1}:item).filter(item=>item.quantity>0));};const removeFromCart=id=>{setCart(prev=>prev.filter(item=>item.id!==id));};const getTotalItems=()=>{return cart.reduce((sum,item)=>sum+item.quantity,0);};const clearCart=()=>{setCart([]);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,addToCart,removeOneFromCart,removeFromCart,getTotalItems,clearCart},children:children});};export const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","storedCart","JSON","parse","localStorage","getItem","setItem","stringify","addToCart","item","prev","existing","find","i","id","map","quantity","removeOneFromCart","filter","removeFromCart","getTotalItems","reduce","sum","clearCart","Provider","value","useCart"],"sources":["C:/Users/neela/Downloads/food-ordering-app (1)/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedCart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    if (storedCart) setCart(storedCart);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }, [cart]);\r\n\r\n  const addToCart = (item) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((i) => i.id === item.id);\r\n      if (existing) {\r\n        return prev.map((i) =>\r\n          i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i\r\n        );\r\n      } else {\r\n        return [...prev, { ...item, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeOneFromCart = (id) => {\r\n    setCart((prev) =>\r\n      prev\r\n        .map((item) =>\r\n          item.id === id ? { ...item, quantity: item.quantity - 1 } : item\r\n        )\r\n        .filter((item) => item.quantity > 0)\r\n    );\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    setCart((prev) => prev.filter((item) => item.id !== id));\r\n  };\r\n\r\n  const getTotalItems = () => {\r\n    return cart.reduce((sum, item) => sum + item.quantity, 0);\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        removeOneFromCart,\r\n        removeFromCart,\r\n        getTotalItems,\r\n        clearCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => useContext(CartContext);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAO,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAC3D,GAAIJ,UAAU,CAAED,OAAO,CAACC,UAAU,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAENT,SAAS,CAAC,IAAM,CACdY,YAAY,CAACE,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACK,SAAS,CAACR,IAAI,CAAC,CAAC,CACpD,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAS,SAAS,CAAIC,IAAI,EAAK,CAC1BT,OAAO,CAAEU,IAAI,EAAK,CAChB,KAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACE,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKL,IAAI,CAACK,EAAE,CAAC,CACnD,GAAIH,QAAQ,CAAE,CACZ,MAAO,CAAAD,IAAI,CAACK,GAAG,CAAEF,CAAC,EAChBA,CAAC,CAACC,EAAE,GAAKL,IAAI,CAACK,EAAE,CAAG,CAAE,GAAGD,CAAC,CAAEG,QAAQ,CAAEH,CAAC,CAACG,QAAQ,CAAG,CAAE,CAAC,CAAGH,CAC1D,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAC,GAAGH,IAAI,CAAE,CAAE,GAAGD,IAAI,CAAEO,QAAQ,CAAE,CAAE,CAAC,CAAC,CAC5C,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIH,EAAE,EAAK,CAChCd,OAAO,CAAEU,IAAI,EACXA,IAAI,CACDK,GAAG,CAAEN,IAAI,EACRA,IAAI,CAACK,EAAE,GAAKA,EAAE,CAAG,CAAE,GAAGL,IAAI,CAAEO,QAAQ,CAAEP,IAAI,CAACO,QAAQ,CAAG,CAAE,CAAC,CAAGP,IAC9D,CAAC,CACAS,MAAM,CAAET,IAAI,EAAKA,IAAI,CAACO,QAAQ,CAAG,CAAC,CACvC,CAAC,CACH,CAAC,CAED,KAAM,CAAAG,cAAc,CAAIL,EAAE,EAAK,CAC7Bd,OAAO,CAAEU,IAAI,EAAKA,IAAI,CAACQ,MAAM,CAAET,IAAI,EAAKA,IAAI,CAACK,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAM,aAAa,CAAGA,CAAA,GAAM,CAC1B,MAAO,CAAArB,IAAI,CAACsB,MAAM,CAAC,CAACC,GAAG,CAAEb,IAAI,GAAKa,GAAG,CAAGb,IAAI,CAACO,QAAQ,CAAE,CAAC,CAAC,CAC3D,CAAC,CAED,KAAM,CAAAO,SAAS,CAAGA,CAAA,GAAM,CACtBvB,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAED,mBACEN,IAAA,CAACC,WAAW,CAAC6B,QAAQ,EACnBC,KAAK,CAAE,CACL1B,IAAI,CACJS,SAAS,CACTS,iBAAiB,CACjBE,cAAc,CACdC,aAAa,CACbG,SACF,CAAE,CAAAzB,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAA4B,OAAO,CAAGA,CAAA,GAAMpC,UAAU,CAACK,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}